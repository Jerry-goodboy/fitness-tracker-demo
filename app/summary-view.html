<link rel="import" href="app-theme.html" />
<dom-module id="summary-view">
    <template>
        <style include="app-theme"></style>
        <style>
            :host {
                display: block;
            }
            summary-rings {
                font-weight: bold;
                font-size: 24px;
            }
            summary-rings small {
                font-weight: 100;
                font-size: 18px;
            }
        </style>
        <app-toolbar>
            <span class="h1">Workouts</span>
            <span class="h2">Current week <span>36</span></span>
        </app-toolbar>
        <summary-rings id="summary" on-tap="_showDetails">
            <small>Total</small><span>75%</span>
        </summary-rings>
    </template>

    <script>
        Polymer({
            is: 'summary-view',
            behaviors: [
                Polymer.NeonAnimatableBehavior
            ],
            properties: {
                animationConfig: {
                    value: function() {
                        return {
                            'entry': {
                                name: 'slide-from-left-animation',
                                node: this
                            },
                            'exit': {
                                name: 'slide-left-animation',
                                node: this
                            }
                        };
                    }
                }
            },
            ready: function() {
                this.$.summary.summaryRows = [
                    { value: 15 },
                    { value: 38 },
                    { value: 78 }
                ];
                window.setInterval(function() {
                    this.$.summary.summaryRows = [
                        { value: Math.round(Math.random() * 100) },
                        { value: Math.round(Math.random() * 100) },
                        { value: Math.round(Math.random() * 100) }
                    ];
                }.bind(this), 2000);
            },
            _showDetails: function() {
                this.fire('navigate', 'details');
            }
        });
    </script>
</dom-module>
